{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samuel\\\\amigo-secreto-frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// src/App.js (Frontend React Atualizado)\n\nimport React, { useState, useEffect } from 'react';\nimport RevealSanta from './RevealSanta'; // Importa o novo componente\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const API_BASE_URL = 'http://127.0.0.1:5000'; // URL do seu backend Flask\n\n  const [participants, setParticipants] = useState([]);\n  const [newParticipantName, setNewParticipantName] = useState('');\n  const [challengeParticipantName, setChallengeParticipantName] = useState('');\n  const [challengePoints, setChallengePoints] = useState(1);\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [currentTab, setCurrentTab] = useState('admin'); // 'admin' ou 'reveal'\n  const [challengeDeadline, setChallengeDeadline] = useState('');\n  const [isDeadlineSet, setIsDeadlineSet] = useState(false);\n  const [isDeadlinePassed, setIsDeadlinePassed] = useState(false);\n  const [newDeadlineInput, setNewDeadlineInput] = useState(''); // Para a nova data limite\n\n  // Funções de busca de dados\n  const fetchParticipants = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/participants`);\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      const data = await response.json();\n      setParticipants(data);\n    } catch (error) {\n      console.error(\"Erro ao buscar participantes:\", error);\n      setMessage(\"Erro ao carregar participantes. Verifique se o backend está rodando.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchLeaderboard = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/leaderboard`);\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      const data = await response.json();\n      setLeaderboard(data);\n    } catch (error) {\n      console.error(\"Erro ao buscar placar de líderes:\", error);\n      setMessage(\"Erro ao carregar placar de líderes. Verifique se o backend está rodando.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchDeadline = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/deadline`);\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      const data = await response.json();\n      if (data.deadline) {\n        setChallengeDeadline(data.deadline);\n        setIsDeadlineSet(true);\n        setIsDeadlinePassed(data.passed);\n      } else {\n        setIsDeadlineSet(false);\n        setChallengeDeadline('');\n        setIsDeadlinePassed(false);\n      }\n    } catch (error) {\n      console.error(\"Erro ao buscar data limite:\", error);\n    }\n  };\n  useEffect(() => {\n    fetchParticipants();\n    fetchLeaderboard();\n    fetchDeadline();\n  }, []);\n\n  // Funções de Ação\n  const handleAddParticipant = async () => {\n    if (!newParticipantName.trim()) {\n      setMessage(\"O nome do participante não pode estar vazio.\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/participants`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: newParticipantName\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setMessage(data.message);\n        setNewParticipantName('');\n        fetchParticipants();\n      } else {\n        setMessage(data.message || \"Erro ao adicionar participante.\");\n      }\n    } catch (error) {\n      console.error(\"Erro ao adicionar participante:\", error);\n      setMessage(\"Erro na comunicação com o servidor.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRemoveParticipant = async name => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/participants/${name}`, {\n        method: 'DELETE'\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setMessage(data.message);\n        fetchParticipants();\n      } else {\n        setMessage(data.message || \"Erro ao remover participante.\");\n      }\n    } catch (error) {\n      console.error(\"Erro ao remover participante:\", error);\n      setMessage(\"Erro na comunicação com o servidor.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDrawSecretSanta = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/draw`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setMessage(data.message + \" Os pares foram sorteados! Use a aba 'Descobrir Amigo' para revelar.\");\n      } else {\n        setMessage(data.message || \"Erro ao realizar sorteio.\");\n      }\n    } catch (error) {\n      console.error(\"Erro ao realizar sorteio:\", error);\n      setMessage(\"Erro na comunicação com o servidor.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRecordChallenge = async () => {\n    if (!challengeParticipantName.trim()) {\n      setMessage(\"O nome do participante do desafio não pode estar vazio.\");\n      return;\n    }\n    if (isDeadlinePassed) {\n      setMessage(\"A data limite para completar desafios já passou!\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/challenges`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          participant_name: challengeParticipantName,\n          points: parseInt(challengePoints)\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setMessage(data.message);\n        setChallengeParticipantName('');\n        setChallengePoints(1);\n        fetchLeaderboard();\n      } else {\n        setMessage(data.message || \"Erro ao registrar desafio.\");\n      }\n    } catch (error) {\n      console.error(\"Erro ao registrar desafio:\", error);\n      setMessage(\"Erro na comunicação com o servidor.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSetDeadline = async () => {\n    if (!newDeadlineInput.trim()) {\n      setMessage(\"Por favor, insira uma data e hora para a data limite.\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/deadline`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          deadline: newDeadlineInput\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setMessage(data.message);\n        setNewDeadlineInput('');\n        fetchDeadline(); // Atualiza a data limite no frontend\n      } else {\n        setMessage(data.message || \"Erro ao definir data limite.\");\n      }\n    } catch (error) {\n      console.error(\"Erro ao definir data limite:\", error);\n      setMessage(\"Erro na comunicação com o servidor.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-purple-600 to-blue-500 text-white font-inter p-4 sm:p-8 flex flex-col items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"meta\", {\n      name: \"viewport\",\n      content: \"width=device-width, initial-scale=1.0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n      src: \"https://cdn.tailwindcss.com\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-4xl sm:text-5xl font-bold mb-8 text-center drop-shadow-lg\",\n      children: \"Jogo Amigo Secreto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-yellow-400 text-gray-800 p-3 rounded-lg shadow-md mb-6 w-full max-w-md text-center\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center gap-4 mb-8 w-full max-w-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentTab('admin'),\n        className: `px-6 py-3 rounded-lg font-bold text-lg transition-colors duration-300 ${currentTab === 'admin' ? 'bg-white text-blue-600' : 'bg-white bg-opacity-30 text-white hover:bg-opacity-50'}`,\n        children: \"Administra\\xE7\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentTab('reveal'),\n        className: `px-6 py-3 rounded-lg font-bold text-lg transition-colors duration-300 ${currentTab === 'reveal' ? 'bg-white text-blue-600' : 'bg-white bg-opacity-30 text-white hover:bg-opacity-50'}`,\n        children: \"Descobrir Amigo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), currentTab === 'admin' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white bg-opacity-20 backdrop-blur-sm p-6 rounded-xl shadow-2xl mb-8 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold mb-4 text-center\",\n          children: \"Gerenciar Participantes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row gap-3 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Nome do participante\",\n            className: \"flex-grow p-3 rounded-lg bg-white bg-opacity-30 border border-white border-opacity-40 placeholder-white placeholder-opacity-70 text-white focus:outline-none focus:ring-2 focus:ring-purple-300\",\n            value: newParticipantName,\n            onChange: e => setNewParticipantName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAddParticipant,\n            className: \"bg-purple-700 hover:bg-purple-800 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105\",\n            children: \"Adicionar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-medium mb-3\",\n          children: \"Lista de Participantes:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this), participants.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-white text-opacity-80\",\n          children: \"Nenhum participante adicionado ainda.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-2\",\n          children: participants.map((p, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"flex justify-between items-center bg-white bg-opacity-10 p-3 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg\",\n              children: p\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleRemoveParticipant(p),\n              className: \"bg-red-600 hover:bg-red-700 text-white text-sm font-bold py-1 px-3 rounded-md transition duration-300 ease-in-out transform hover:scale-105\",\n              children: \"Remover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white bg-opacity-20 backdrop-blur-sm p-6 rounded-xl shadow-2xl mb-8 w-full max-w-md text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold mb-4\",\n          children: \"Sorteio do Amigo Secreto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDrawSecretSanta,\n          className: \"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 mb-4\",\n          children: \"Realizar Sorteio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-white text-opacity-80 mt-2\",\n          children: \"Os pares n\\xE3o ser\\xE3o exibidos aqui. Use a aba \\\"Descobrir Amigo\\\" para que cada um revele o seu.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white bg-opacity-20 backdrop-blur-sm p-6 rounded-xl shadow-2xl mb-8 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold mb-4 text-center\",\n          children: \"Data Limite dos Desafios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 13\n        }, this), isDeadlineSet ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-lg mb-4 ${isDeadlinePassed ? 'text-red-300' : 'text-green-300'}`,\n          children: [\"**Data limite:** \", challengeDeadline, \" \", isDeadlinePassed ? '(VENCIDA)' : '(ATIVO)']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg mb-4 text-white text-opacity-80\",\n          children: \"Nenhuma data limite definida.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"datetime-local\",\n            className: \"flex-grow p-3 rounded-lg bg-white bg-opacity-30 border border-white border-opacity-40 placeholder-white placeholder-opacity-70 text-white focus:outline-none focus:ring-2 focus:ring-purple-300\",\n            value: newDeadlineInput,\n            onChange: e => setNewDeadlineInput(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSetDeadline,\n            className: \"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105\",\n            children: \"Definir Data Limite\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white bg-opacity-20 backdrop-blur-sm p-6 rounded-xl shadow-2xl mb-8 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold mb-4 text-center\",\n          children: \"Registrar Desafio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row gap-3 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Nome do participante\",\n            className: \"flex-grow p-3 rounded-lg bg-white bg-opacity-30 border border-white border-opacity-40 placeholder-white placeholder-opacity-70 text-white focus:outline-none focus:ring-2 focus:ring-purple-300\",\n            value: challengeParticipantName,\n            onChange: e => setChallengeParticipantName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"Pontos (ex: 1)\",\n            className: \"w-24 p-3 rounded-lg bg-white bg-opacity-30 border border-white border-opacity-40 placeholder-white placeholder-opacity-70 text-white focus:outline-none focus:ring-2 focus:ring-purple-300\",\n            value: challengePoints,\n            onChange: e => setChallengePoints(e.target.value),\n            min: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRecordChallenge,\n            className: \"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105\",\n            children: \"Registrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white bg-opacity-20 backdrop-blur-sm p-6 rounded-xl shadow-2xl w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold mb-4 text-center\",\n          children: \"Placar de L\\xEDderes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this), leaderboard.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-white text-opacity-80\",\n          children: \"Nenhum desafio foi completado ainda.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-2\",\n          children: leaderboard.map((entry, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"flex justify-between items-center bg-white bg-opacity-10 p-3 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold\",\n              children: [index + 1, \". \", entry.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg\",\n              children: [entry.score, \" pontos\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), currentTab === 'reveal' && /*#__PURE__*/_jsxDEV(RevealSanta, {\n      API_BASE_URL: API_BASE_URL\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"k+Zc0mY3yvLMW5ixS82PVpRHxwU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","RevealSanta","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","API_BASE_URL","participants","setParticipants","newParticipantName","setNewParticipantName","challengeParticipantName","setChallengeParticipantName","challengePoints","setChallengePoints","leaderboard","setLeaderboard","message","setMessage","loading","setLoading","currentTab","setCurrentTab","challengeDeadline","setChallengeDeadline","isDeadlineSet","setIsDeadlineSet","isDeadlinePassed","setIsDeadlinePassed","newDeadlineInput","setNewDeadlineInput","fetchParticipants","response","fetch","ok","Error","status","data","json","error","console","fetchLeaderboard","fetchDeadline","deadline","passed","handleAddParticipant","trim","method","headers","body","JSON","stringify","name","handleRemoveParticipant","handleDrawSecretSanta","handleRecordChallenge","participant_name","points","parseInt","handleSetDeadline","className","children","content","fileName","_jsxFileName","lineNumber","columnNumber","src","onClick","type","placeholder","value","onChange","e","target","length","map","p","index","min","entry","score","_c","$RefreshReg$"],"sources":["C:/Users/Samuel/amigo-secreto-frontend/src/App.js"],"sourcesContent":["// src/App.js (Frontend React Atualizado)\n\nimport React, { useState, useEffect } from 'react';\nimport RevealSanta from './RevealSanta'; // Importa o novo componente\n\nfunction App() {\n  const API_BASE_URL = 'http://127.0.0.1:5000'; // URL do seu backend Flask\n\n  const [participants, setParticipants] = useState([]);\n  const [newParticipantName, setNewParticipantName] = useState('');\n  const [challengeParticipantName, setChallengeParticipantName] = useState('');\n  const [challengePoints, setChallengePoints] = useState(1);\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [currentTab, setCurrentTab] = useState('admin'); // 'admin' ou 'reveal'\n  const [challengeDeadline, setChallengeDeadline] = useState('');\n  const [isDeadlineSet, setIsDeadlineSet] = useState(false);\n  const [isDeadlinePassed, setIsDeadlinePassed] = useState(false);\n  const [newDeadlineInput, setNewDeadlineInput] = useState(''); // Para a nova data limite\n\n  // Funções de busca de dados\n  const fetchParticipants = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/participants`);\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      const data = await response.json();\n      setParticipants(data);\n    } catch (error) {\n      console.error(\"Erro ao buscar participantes:\", error);\n      setMessage(\"Erro ao carregar participantes. Verifique se o backend está rodando.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchLeaderboard = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/leaderboard`);\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      const data = await response.json();\n      setLeaderboard(data);\n    } catch (error) {\n      console.error(\"Erro ao buscar placar de líderes:\", error);\n      setMessage(\"Erro ao carregar placar de líderes. Verifique se o backend está rodando.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchDeadline = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/deadline`);\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      const data = await response.json();\n      if (data.deadline) {\n        setChallengeDeadline(data.deadline);\n        setIsDeadlineSet(true);\n        setIsDeadlinePassed(data.passed);\n      } else {\n        setIsDeadlineSet(false);\n        setChallengeDeadline('');\n        setIsDeadlinePassed(false);\n      }\n    } catch (error) {\n      console.error(\"Erro ao buscar data limite:\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchParticipants();\n    fetchLeaderboard();\n    fetchDeadline();\n  }, []);\n\n  // Funções de Ação\n  const handleAddParticipant = async () => {\n    if (!newParticipantName.trim()) {\n      setMessage(\"O nome do participante não pode estar vazio.\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/participants`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name: newParticipantName }),\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setMessage(data.message);\n        setNewParticipantName('');\n        fetchParticipants(); \n      } else {\n        setMessage(data.message || \"Erro ao adicionar participante.\");\n      }\n    } catch (error) {\n      console.error(\"Erro ao adicionar participante:\", error);\n      setMessage(\"Erro na comunicação com o servidor.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRemoveParticipant = async (name) => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/participants/${name}`, {\n        method: 'DELETE',\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setMessage(data.message);\n        fetchParticipants(); \n      } else {\n        setMessage(data.message || \"Erro ao remover participante.\");\n      }\n    } catch (error) {\n      console.error(\"Erro ao remover participante:\", error);\n      setMessage(\"Erro na comunicação com o servidor.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDrawSecretSanta = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/draw`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setMessage(data.message + \" Os pares foram sorteados! Use a aba 'Descobrir Amigo' para revelar.\");\n      } else {\n        setMessage(data.message || \"Erro ao realizar sorteio.\");\n      }\n    } catch (error) {\n      console.error(\"Erro ao realizar sorteio:\", error);\n      setMessage(\"Erro na comunicação com o servidor.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRecordChallenge = async () => {\n    if (!challengeParticipantName.trim()) {\n      setMessage(\"O nome do participante do desafio não pode estar vazio.\");\n      return;\n    }\n    if (isDeadlinePassed) {\n        setMessage(\"A data limite para completar desafios já passou!\");\n        return;\n    }\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/challenges`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ participant_name: challengeParticipantName, points: parseInt(challengePoints) }),\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setMessage(data.message);\n        setChallengeParticipantName('');\n        setChallengePoints(1);\n        fetchLeaderboard(); \n      } else {\n        setMessage(data.message || \"Erro ao registrar desafio.\");\n      }\n    } catch (error) {\n      console.error(\"Erro ao registrar desafio:\", error);\n      setMessage(\"Erro na comunicação com o servidor.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSetDeadline = async () => {\n    if (!newDeadlineInput.trim()) {\n        setMessage(\"Por favor, insira uma data e hora para a data limite.\");\n        return;\n    }\n    setLoading(true);\n    try {\n        const response = await fetch(`${API_BASE_URL}/deadline`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ deadline: newDeadlineInput }),\n        });\n        const data = await response.json();\n        if (response.ok) {\n            setMessage(data.message);\n            setNewDeadlineInput('');\n            fetchDeadline(); // Atualiza a data limite no frontend\n        } else {\n            setMessage(data.message || \"Erro ao definir data limite.\");\n        }\n    } catch (error) {\n        console.error(\"Erro ao definir data limite:\", error);\n        setMessage(\"Erro na comunicação com o servidor.\");\n    } finally {\n        setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-600 to-blue-500 text-white font-inter p-4 sm:p-8 flex flex-col items-center\">\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n      <script src=\"https://cdn.tailwindcss.com\"></script>\n      \n      <h1 className=\"text-4xl sm:text-5xl font-bold mb-8 text-center drop-shadow-lg\">\n        Jogo Amigo Secreto\n      </h1>\n\n      {loading && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white\"></div>\n        </div>\n      )}\n\n      {message && (\n        <div className=\"bg-yellow-400 text-gray-800 p-3 rounded-lg shadow-md mb-6 w-full max-w-md text-center\">\n          {message}\n        </div>\n      )}\n\n      {/* Tabs de Navegação */}\n      <div className=\"flex justify-center gap-4 mb-8 w-full max-w-md\">\n        <button\n          onClick={() => setCurrentTab('admin')}\n          className={`px-6 py-3 rounded-lg font-bold text-lg transition-colors duration-300 ${\n            currentTab === 'admin' ? 'bg-white text-blue-600' : 'bg-white bg-opacity-30 text-white hover:bg-opacity-50'\n          }`}\n        >\n          Administração\n        </button>\n        <button\n          onClick={() => setCurrentTab('reveal')}\n          className={`px-6 py-3 rounded-lg font-bold text-lg transition-colors duration-300 ${\n            currentTab === 'reveal' ? 'bg-white text-blue-600' : 'bg-white bg-opacity-30 text-white hover:bg-opacity-50'\n          }`}\n        >\n          Descobrir Amigo\n        </button>\n      </div>\n\n      {currentTab === 'admin' && (\n        <>\n          {/* Seção de Participantes */}\n          <div className=\"bg-white bg-opacity-20 backdrop-blur-sm p-6 rounded-xl shadow-2xl mb-8 w-full max-w-md\">\n            <h2 className=\"text-2xl font-semibold mb-4 text-center\">Gerenciar Participantes</h2>\n            <div className=\"flex flex-col sm:flex-row gap-3 mb-4\">\n              <input\n                type=\"text\"\n                placeholder=\"Nome do participante\"\n                className=\"flex-grow p-3 rounded-lg bg-white bg-opacity-30 border border-white border-opacity-40 placeholder-white placeholder-opacity-70 text-white focus:outline-none focus:ring-2 focus:ring-purple-300\"\n                value={newParticipantName}\n                onChange={(e) => setNewParticipantName(e.target.value)}\n              />\n              <button\n                onClick={handleAddParticipant}\n                className=\"bg-purple-700 hover:bg-purple-800 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105\"\n              >\n                Adicionar\n              </button>\n            </div>\n            <h3 className=\"text-xl font-medium mb-3\">Lista de Participantes:</h3>\n            {participants.length === 0 ? (\n              <p className=\"text-white text-opacity-80\">Nenhum participante adicionado ainda.</p>\n            ) : (\n              <ul className=\"space-y-2\">\n                {participants.map((p, index) => (\n                  <li key={index} className=\"flex justify-between items-center bg-white bg-opacity-10 p-3 rounded-lg\">\n                    <span className=\"text-lg\">{p}</span>\n                    <button\n                      onClick={() => handleRemoveParticipant(p)}\n                      className=\"bg-red-600 hover:bg-red-700 text-white text-sm font-bold py-1 px-3 rounded-md transition duration-300 ease-in-out transform hover:scale-105\"\n                    >\n                      Remover\n                    </button>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n\n          {/* Seção de Sorteio */}\n          <div className=\"bg-white bg-opacity-20 backdrop-blur-sm p-6 rounded-xl shadow-2xl mb-8 w-full max-w-md text-center\">\n            <h2 className=\"text-2xl font-semibold mb-4\">Sorteio do Amigo Secreto</h2>\n            <button\n              onClick={handleDrawSecretSanta}\n              className=\"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 mb-4\"\n            >\n              Realizar Sorteio\n            </button>\n            <p className=\"text-white text-opacity-80 mt-2\">\n              Os pares não serão exibidos aqui. Use a aba \"Descobrir Amigo\" para que cada um revele o seu.\n            </p>\n          </div>\n\n          {/* Seção de Data Limite */}\n          <div className=\"bg-white bg-opacity-20 backdrop-blur-sm p-6 rounded-xl shadow-2xl mb-8 w-full max-w-md\">\n            <h2 className=\"text-2xl font-semibold mb-4 text-center\">Data Limite dos Desafios</h2>\n            {isDeadlineSet ? (\n                <p className={`text-lg mb-4 ${isDeadlinePassed ? 'text-red-300' : 'text-green-300'}`}>\n                    **Data limite:** {challengeDeadline} {isDeadlinePassed ? '(VENCIDA)' : '(ATIVO)'}\n                </p>\n            ) : (\n                <p className=\"text-lg mb-4 text-white text-opacity-80\">Nenhuma data limite definida.</p>\n            )}\n            <div className=\"flex flex-col sm:flex-row gap-3\">\n                <input\n                    type=\"datetime-local\"\n                    className=\"flex-grow p-3 rounded-lg bg-white bg-opacity-30 border border-white border-opacity-40 placeholder-white placeholder-opacity-70 text-white focus:outline-none focus:ring-2 focus:ring-purple-300\"\n                    value={newDeadlineInput}\n                    onChange={(e) => setNewDeadlineInput(e.target.value)}\n                />\n                <button\n                    onClick={handleSetDeadline}\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105\"\n                >\n                    Definir Data Limite\n                </button>\n            </div>\n          </div>\n\n          {/* Seção de Desafios */}\n          <div className=\"bg-white bg-opacity-20 backdrop-blur-sm p-6 rounded-xl shadow-2xl mb-8 w-full max-w-md\">\n            <h2 className=\"text-2xl font-semibold mb-4 text-center\">Registrar Desafio</h2>\n            <div className=\"flex flex-col sm:flex-row gap-3 mb-4\">\n              <input\n                type=\"text\"\n                placeholder=\"Nome do participante\"\n                className=\"flex-grow p-3 rounded-lg bg-white bg-opacity-30 border border-white border-opacity-40 placeholder-white placeholder-opacity-70 text-white focus:outline-none focus:ring-2 focus:ring-purple-300\"\n                value={challengeParticipantName}\n                onChange={(e) => setChallengeParticipantName(e.target.value)}\n              />\n              <input\n                type=\"number\"\n                placeholder=\"Pontos (ex: 1)\"\n                className=\"w-24 p-3 rounded-lg bg-white bg-opacity-30 border border-white border-opacity-40 placeholder-white placeholder-opacity-70 text-white focus:outline-none focus:ring-2 focus:ring-purple-300\"\n                value={challengePoints}\n                onChange={(e) => setChallengePoints(e.target.value)}\n                min=\"1\"\n              />\n              <button\n                onClick={handleRecordChallenge}\n                className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105\"\n              >\n                Registrar\n              </button>\n            </div>\n          </div>\n\n          {/* Seção de Placar de Líderes */}\n          <div className=\"bg-white bg-opacity-20 backdrop-blur-sm p-6 rounded-xl shadow-2xl w-full max-w-md\">\n            <h2 className=\"text-2xl font-semibold mb-4 text-center\">Placar de Líderes</h2>\n            {leaderboard.length === 0 ? (\n              <p className=\"text-white text-opacity-80\">Nenhum desafio foi completado ainda.</p>\n            ) : (\n              <ul className=\"space-y-2\">\n                {leaderboard.map((entry, index) => (\n                  <li key={index} className=\"flex justify-between items-center bg-white bg-opacity-10 p-3 rounded-lg\">\n                    <span className=\"text-lg font-semibold\">{index + 1}. {entry.name}</span>\n                    <span className=\"text-lg\">{entry.score} pontos</span>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </>\n      )}\n\n      {currentTab === 'reveal' && (\n        <RevealSanta API_BASE_URL={API_BASE_URL} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}